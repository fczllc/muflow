# FlowEditor 组件

流程图编辑器的主组件，提供了完整的流程图编辑功能。

## 属性 (Props)

该组件没有可配置的属性。

## 事件 (Events)

该组件内部处理所有事件，不向外部发出事件。

## 方法 (Methods)

该组件不对外暴露方法。

## 子组件

### TopToolbar

顶部工具栏组件，提供以下功能：
- 字体样式设置（大小、颜色）
- 连线样式设置（粗细、颜色、类型、箭头）
- 对齐和分布功能
- 画布操作（清除、导出、保存、导入）

### LeftSidebar

左侧工具栏组件，提供以下功能：
- 文本标签控件
- 圆角矩形节点控件
- 直线控件

### 自定义节点

#### RoundedRectNode

圆角矩形节点组件，支持：
- 拖拽移动
- 大小调整
- 文本编辑
- 连线锚点

#### TextLabelNode

文本标签节点组件，支持：
- 拖拽移动
- 大小调整
- 文本编辑

#### LineNode

直线节点组件，支持：
- 拖拽移动
- 长度和角度调整
- 箭头样式设置
- 线条样式设置（粗细、颜色、类型）

### AlignmentLines

对齐辅助线组件，提供：
- 水平对齐线
- 垂直对齐线
- 自动吸附功能

## 功能说明

### 节点操作

1. 创建节点
   - 从左侧工具栏拖拽控件到画布
   - 自动生成唯一 ID
   - 默认大小和样式

2. 编辑节点
   - 双击编辑文本（文本和矩形节点）
   - 拖拽调整位置
   - 拖拽边角调整大小（文本和矩形节点）
   - 拖拽端点调整直线长度和角度（直线节点）

3. 选择节点
   - 单击选择单个节点
   - Ctrl + 点击多选
   - 点击空白取消选择

4. 删除节点
   - 选中后按 Delete 键删除
   - 删除节点时自动删除相关连线

### 连线操作

1. 创建连线
   - 从节点锚点拖出连线
   - 连接到目标节点锚点
   - 自动生成平滑曲线

2. 编辑连线
   - 选中后修改样式
   - 支持线条粗细、颜色、类型
   - 支持箭头样式设置

3. 删除连线
   - 选中后按 Delete 键删除

### 对齐功能

1. 对齐操作
   - 左对齐、右对齐
   - 顶对齐、底对齐
   - 水平居中、垂直居中

2. 分布操作
   - 水平均匀分布
   - 垂直均匀分布

3. 辅助对齐
   - 拖拽时显示对齐线
   - 自动吸附到对齐位置
   - 支持边缘和中心对齐

### 画布操作

1. 导出功能
   - 导出为图片
   - 导出为 JSON 文件

2. 导入功能
   - 导入 JSON 文件
   - 自动还原节点和连线

3. 其他功能
   - 清空画布
   - 保存到本地
   - API 数据交互

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl + A | 全选画布上的所有对象 |
| ESC | 取消选中状态 |
| Delete | 删除选中的节点或连线 |
| 双击 | 编辑节点文本 |
| Ctrl + 点击 | 多选对象 |
| Shift + 拖拽 | 直线角度对齐（0°, 45°, 90°, 135°, 180°, 225°, 270°, 315°）|

## 使用示例

```vue
<template>
  <div class="app">
    <FlowEditor />
  </div>
</template>

<script setup lang="ts">
import FlowEditor from './components/FlowEditor.vue'
</script>

<style>
.app {
  width: 100vw;
  height: 100vh;
}
</style> 